<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>222</title>
    <style>
      .uploadFile {
          min-height: 50px;
          width: 250px;
          border: 1px solid blue;
          margin: 10px;
          padding: 10px;
      }
      input[type=file] {
          position: absolute;
          width: 1px;
          height: 1px;
          padding: 0;
          margin: -1px;
          overflow: hidden;
          clip:rect(0,0,0,0);
          border: 0;
      }
      .ico.setting{
        display: inline-block;
        width: 10px;
    height: 10px;
    background: red;
      }
    </style>
</head>
<body>
  <div class="uploadFile">
    <div class="drop">여기에 첨부 파일을 끌어오세요. 또는</div>
    <div class="list">
      <ul>
      </ul>
    </div>
  </div>
  <!-- <div class="status"></div> -->

  <label for="cycleDocument" class="">직접선택</label>
  <input type="file" name="cycleDocument" id="cycleDocument" class="" tabindex="" />

    
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
    <script>
      if(window.FileReader) { 
  //var drop; 
  addEventHandler(window, 'load', function() {
    //var status = document.getElementsByClassName('status')[0];
    var drop   = document.getElementsByClassName('drop')[0];
    var list   = document.getElementsByClassName('list')[0];

    function cancel(e) {
      if (e.preventDefault) { 
        e.preventDefault(); 
      }
      return false;
    }

    // Tells the browser that we *can* drop on this target
    addEventHandler(drop, 'dragover', cancel);
    addEventHandler(drop, 'dragenter', cancel);
    addEventHandler(drop, 'drop', function (e) {
      e = e || window.event; // get window.event if e argument missing (in IE)   

      if (e.preventDefault) { 
        e.preventDefault(); 
      } // stops the browser from redirecting off to the image.

      var dt = e.dataTransfer;
      var files = dt.files;
      for (var i=0; i<files.length; i++) {
        var file = files[i];
        var reader = new FileReader();

        //attach event handlers here...
        reader.readAsDataURL(file);
        addEventHandler(reader, 'loadend', function(e, file) {
          var bin = this.result; 

          //	div.list...
          var newFile       = document.createElement('li');
          // newFile.innerHTML = 'Selected File: '+file.name+' (size: '+file.size+' bytes)';
          newFile.innerHTML = '<i class="ico setting">' + file.name + '<span>' + file.size +' bytes' + '</span>';
          list.appendChild(newFile);  
          //  var fileNumber = list.getElementsByTagName('div').length;

          //	div.status...
          //status.innerHTML = 'This file is ready to be uploaded upon submission.';

          //status.innerHTML = fileNumber < files.length 
          //? 'Loaded 100% of file '+fileNumber+' of '+files.length+'...' 
          //: 'Done loading. processed '+fileNumber+' files.';

          // var img = document.createElement("img"); 
          // img.file = file;   
          // img.src = bin;
          // list.appendChild(img);

        }.bindToEventHandler(file));
      }
      return false;
    });

    Function.prototype.bindToEventHandler = function bindToEventHandler() {
      var handler = this;
      var boundParameters = Array.prototype.slice.call(arguments);
      //create closure
      return function(e) {
        e = e || window.event; // get window.event if e argument missing (in IE)   
        boundParameters.unshift(e);
        handler.apply(this, boundParameters);
      };
    };
  });
} else { 
  //document.getElementsByClassName('status')[0].innerHTML = 'Your browser does not support the HTML5 FileReader.';
}
function addEventHandler(obj, evt, handler) {
  if(obj.addEventListener) {
    // W3C method
    obj.addEventListener(evt, handler, false);
  } else if(obj.attachEvent) {
    // IE method.
    obj.attachEvent('on'+evt, handler);
  } else {
    // Old school method.
    obj['on'+evt] = handler;
  }
}
    </script>
</body>
</html>